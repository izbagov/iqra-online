---
import Navigation from '@components/Header/Navigation.astro';
import Wrapper from '@components/Wrapper.astro';
import Logo from '@components/Header/Logo.astro';
import ThemeSwitch from '@components/Header/ThemeSwitch.astro';
import BurgerMenu from '@components/Header/BurgerMenu.astro';
import HeaderBox from '@components/Header/HeaderBox.astro';
---

<script>
  const header = document.querySelector('.header')!;
  const TOGGLE_CLASS = 'is-sticky';

  window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;
    if (currentScroll > 150) {
      header.classList.add(TOGGLE_CLASS);
    } else {
      header.classList.remove(TOGGLE_CLASS);
    }
  });
</script>

<style lang="scss" is:global>
  .header {
    &.show {
      .header-box {
        display: block;
      }
    }

    &.is-sticky {
      position: fixed;
      box-shadow: 0 5px 16px rgba(0, 0, 0, 0.1);
      animation: slideDown 0.35s ease-out;
      padding: 20px 0;
      background: var(--header-bg);
    }
  }

  @keyframes slideDown {
    from {
      transform: translateY(-100%);
    }
    to {
      transform: translateY(0);
    }
  }
</style>
<header class="header absolute left-0 top-0 px-5 py-10 w-full z-50 sm:px-0">
  <div class="flex items-center container mx-auto relative">
    <BurgerMenu class="home-burger" />
    <Logo />
    <HeaderBox>
      <Navigation />
    </HeaderBox>
    <ThemeSwitch class="home-switcher" />
  </div>
</header>
